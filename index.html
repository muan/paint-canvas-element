<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>paint-canvas</title>
    <script type="text/javascript" src="./index.js" defer></script>
    <link rel="stylesheet" href="./paint-canvas.css">
  </head>
  <body>
    <label for="size">width (resest)</label>
    <input type="number" id="width" name="width" max="1000" min="100" value="600">
    <label for="size">height (resest)</label>
    <input type="number" id="height" name="height" max="1000" min="100" value="300">
    <label for="size">size</label>
    <input type="number" id="size" name="size" max="30" min="1" value="3">
    <label for="bgcolor">bgcolor (resest)</label>
    <input type="color" id="bgcolor" name="bgcolor" value="#eeeeee">
    <label for="color">color</label>
    <input type="color" id="color" name="color" value="#000000">
    <br><br>

    <paint-canvas color="#000000" width="600" height="300" bgcolor="#eeeeee"></paint-canvas>

    <br><br>
    <button type="button" id="button">download</button>
    <br><br>

    <script type="text/javascript">
      const paintCanvas = document.querySelector('paint-canvas')
      document.addEventListener('change', event => {
        if (!event.target.reportValidity()) return
        paintCanvas.setAttribute(event.target.name, event.target.value)
      })
      const button = document.querySelector('#button')
      button.addEventListener('click', event => {
        const a = document.createElement('a')
        a.href = paintCanvas.canvas.toDataURL('image/png')
        document.body.append(a)
        a.download = `paint-canvas-${new Date().getTime()}.png`
        a.click()
        a.remove()
      })
    </script>
  </body>
</html>
